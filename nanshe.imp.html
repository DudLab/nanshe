

<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>nanshe.imp package &mdash; ..  documentation</title>
    
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="top" title="..  documentation" href="index.html" />
    <link rel="next" title="nanshe.io package" href="nanshe.io.html" />
    <link rel="prev" title="nanshe.util package" href="nanshe.util.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body role="document">
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.io.html" title="nanshe.io package"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.html" title="nanshe.util package"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">..  documentation</a> &raquo;</li>
 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nanshe.imp">
<span id="nanshe-imp-package"></span><h1>nanshe.imp package<a class="headerlink" href="#module-nanshe.imp" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-nanshe.imp.advanced_image_processing">
<span id="nanshe-imp-advanced-image-processing-module"></span><h2>nanshe.imp.advanced_image_processing module<a class="headerlink" href="#module-nanshe.imp.advanced_image_processing" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps">
<em class="property">class </em><code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">ExtendedRegionProps</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<p>Using the results of extended_region_local_maxima_properties with given intensity and label images, the
ExtendedRegionProps attempts to make it easy to get information about local maxima in the image. Further, it
provides methods to allow removal of local maxima. When removing local maxima, it will updated the given label
image to reflect labels that have been removed completely and will automatically renumber the label image (as
some functions expect a label image with sequential numbering, no missing label number). This provides a simple
way to maintain a label image, whose local maxima one is more interested in directly manipulating.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Adding local maxima is not allowed for and wouldn&#8217;t make sense given its dependency on the intensity image.</p>
</div>
<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_index_array">
<code class="descname">get_local_max_index_array</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.get_local_max_index_array"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_index_array" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a numpy style index array from the local maxima present.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a numpy styled index array, which can be used on the intensity image, or label image.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">tuple</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_label_image">
<code class="descname">get_local_max_label_image</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.get_local_max_label_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_label_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets an int numpy array that contains the labels of the local maxima.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">an int numpy array that contains the labels of the local maxima and is zero in the
background.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_mask">
<code class="descname">get_local_max_mask</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.get_local_max_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.get_local_max_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a bool numpy array that is True at the locations of the local maxima.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a bool numpy array that is True where a local max is and False everywhere else.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.recorders">
<code class="descname">recorders</code><em class="property"> = &lt;nanshe.io.hdf5.record.ClassSubgroupingRecorders object at 0x3ccf290&gt;</em><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.recorders" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.remove_prop_indices">
<code class="descname">remove_prop_indices</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.remove_prop_indices"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.remove_prop_indices" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the local maxima of the indices listed (like remove_prop_mask except with indices).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a label is removed completely, the label image, intensity image, and image mask will be updated.
Also, the count (of local maxima per label) will be updated, regardless.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>*i</strong> (<em>int</em>) &#8211; A mask of the indices to drop (True for the ones to remove,
and False for the ones to keep).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.remove_prop_mask">
<code class="descname">remove_prop_mask</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.remove_prop_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.remove_prop_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the local maxima by the mask over their indices (only False elements will be kept).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If a label is removed completely, the label image, intensity image, and image mask will be updated.
Also, the count (of local maxima per label) will be updated, regardless.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>remove_prop_indices_mask</strong> (<em>numpy.ndarray</em>) &#8211; A mask of the indices to drop (True for the ones to remove,
and False for the ones to keep).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.advanced_image_processing.ExtendedRegionProps.renumber_labels">
<code class="descname">renumber_labels</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#ExtendedRegionProps.renumber_labels"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps.renumber_labels" title="Permalink to this definition">¶</a></dt>
<dd><p>An internal method to be called after a label is completely removed from the local maxima.</p>
<p>Ensures all labels are in sequential order in the label image, count, and that all local maxima have their
labels updated.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Calling this externally will not make a difference as long as removal has occurred through the usual
mechanisms.</p>
</div>
</dd></dl>

</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.estimate_f0">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">estimate_f0</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#estimate_f0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.estimate_f0" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates F_0 using a rank order filter with some smoothing..</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; array of data for finding baseline (first axis is time).</li>
<li><strong>half_window_size</strong> (<em>int</em>) &#8211; the rank filter window size is 2*half_window_size+1.</li>
<li><strong>which_quantile</strong> (<em>float</em>) &#8211; while quantile to return from the rank filter.</li>
<li><strong>temporal_smoothing_gaussian_filter_stdev</strong> (<em>float</em>) &#8211; stdev for gaussian filter to convolve over time.</li>
<li><strong>temporal_smoothing_gaussian_filter_window_size</strong> (<em>float</em>) &#8211; window for gaussian filter to convolve over time.
(Measured in standard deviations)</li>
<li><strong>spatial_smoothing_gaussian_filter_stdev</strong> (<em>float</em>) &#8211; stdev for gaussian filter to convolve over space.</li>
<li><strong>spatial_smoothing_gaussian_filter_window_size</strong> (<em>float</em>) &#8211; window for gaussian filter to convolve over space.
(Measured in standard deviations)</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; where the final result will be stored.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; essentially unused (catches unneeded arguments).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the F_0 estimate.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.expand_rois">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">expand_rois</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#expand_rois"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.expand_rois" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.extended_region_local_maxima_properties">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">extended_region_local_maxima_properties</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#extended_region_local_maxima_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.extended_region_local_maxima_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates local maxima along with other properties for each labeled region
(therefore at least one entry per label).
Gets a label image if not provided by using the threshold (if not provided is zero).</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">This is similar to region_properties. It differs in that it keeps track of all local maxima. So, it is no
longer one-to-one in labels, but is one-to-one in local maxima.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_intensity_image</strong> (<em>numpy.ndarray</em>) &#8211; The intensity image to find local maxima for (ideally, all axes are
spatial; however, it will treat all axes the same).</li>
<li><strong>new_label_image</strong> (<em>numpy.ndarray</em>) &#8211; The label image to find local maxima for (ideally, all axes are
spatial; however, it will treat all axes the same).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A mask of the local maxima.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.extract_f0">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">extract_f0</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#extract_f0"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.extract_f0" title="Permalink to this definition">¶</a></dt>
<dd><p>Attempts to find an estimate for dF/F.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; array of data for finding baseline (first axis is time).</li>
<li><strong>half_window_size</strong> (<em>int</em>) &#8211; the rank filter window size is 2*half_window_size+1.</li>
<li><strong>which_quantile</strong> (<em>float</em>) &#8211; while quantile to return from the rank filter.</li>
<li><strong>temporal_smoothing_gaussian_filter_stdev</strong> (<em>float</em>) &#8211; stdev for gaussian filter to convolve over time.</li>
<li><strong>temporal_smoothing_gaussian_filter_window_size</strong> (<em>float</em>) &#8211; window for gaussian filter to convolve over time.
(Measured in standard deviations)</li>
<li><strong>spatial_smoothing_gaussian_filter_stdev</strong> (<em>float</em>) &#8211; stdev for gaussian filter to convolve over space.</li>
<li><strong>spatial_smoothing_gaussian_filter_window_size</strong> (<em>float</em>) &#8211; window for gaussian filter to convolve over space.
(Measured in standard deviations)</li>
<li><strong>bias</strong> (<em>float</em>) &#8211; value to be added to dataset to avoid nan.</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; where the final result will be stored.</li>
<li><strong>return_f0</strong> (<em>bool</em>) &#8211; whether to return F_0 also, F_0 will be returned first.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; essentially unused (catches unneeded arguments).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">dF/F or if return_f0 is True a tuple (F_0, dF/F).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.extract_neurons">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">extract_neurons</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#extract_neurons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.extract_neurons" title="Permalink to this definition">¶</a></dt>
<dd><p>Extracts neurons from an image using a stack of masks.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_image</strong> (<em>numpy.ndarray</em>) &#8211; spatial coordinates only (no time).</li>
<li><strong>neuron_masks</strong> (<em>numpy.ndarray</em>) &#8211; first index of denotes which mask and all others are spatial indices.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a stack of neurons in the same order as the masks.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.fuse_neurons">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">fuse_neurons</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#fuse_neurons"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.fuse_neurons" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the two neurons into one neuron, which is returned.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first neuron (neuron_1) is preferred in tie-breaking situations.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>neuron_1</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the first
neuron.</li>
<li><strong>neuron_2</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the second
neuron.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; dictionary of parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new neuron that is the result of fusing the two.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.generate_dictionary">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">generate_dictionary</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#generate_dictionary"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.generate_dictionary" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a dictionary using the data and parameters given for trainDL.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; array of data for generating a dictionary (first axis is time).</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; passed directly to spams.trainDL.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the dictionary found.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.generate_local_maxima">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">generate_local_maxima</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#generate_local_maxima"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.generate_local_maxima" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mask the same size as the intensity image with local maxima as True and background False.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_intensity_image</strong> (<em>numpy.ndarray</em>) &#8211; The image to find local maxima for (ideally, all axes are
spatial; however, it will treat all axes the same).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A mask of the local maxima.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.generate_local_maxima_scikit_image">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">generate_local_maxima_scikit_image</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#generate_local_maxima_scikit_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.generate_local_maxima_scikit_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mask the same size as the intensity image with local maxima as True and background False.
Uses scikit image&#8217;s skimage.feature.peak_local_max.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_intensity_image</strong> (<em>numpy.ndarray</em>) &#8211; The image to find local maxima for (ideally, all axes are
spatial; however, it will treat all axes the same).</li>
<li><strong>local_max_neighborhood_size</strong> (<em>int</em>) &#8211; Size of the neighborhood to check for a local maxima.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A mask of the local maxima.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.generate_local_maxima_vigra">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">generate_local_maxima_vigra</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#generate_local_maxima_vigra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.generate_local_maxima_vigra" title="Permalink to this definition">¶</a></dt>
<dd><p>Creates a mask the same size as the intensity image with local maxima as True and background False.
Uses vigra&#8217;s vigra.analysis.extendedLocalMaxima for 2D and vigra&#8217;s vigra.analysis.extendedLocalMaxima3D for 3D.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_intensity_image</strong> (<em>numpy.ndarray</em>) &#8211; The image to find local maxima for (ideally, all axes are
spatial; however, it will treat all axes the same).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">A mask of the local maxima.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.get_empty_neuron">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">get_empty_neuron</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#get_empty_neuron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.get_empty_neuron" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a numpy structured array using the type from get_neuron_dtype that has no contents.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image</strong> (<em>numpy.ndarray</em>) &#8211; an empty numpy structured array with all types needed for a neuron.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy structured array with no contents and type from get_neuron_dtype.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_empty_neuron</span><span class="p">((</span><span class="mi">3</span><span class="p">,),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> 
<span class="go">array([], dtype=[(&#39;mask&#39;, &#39;?&#39;, (3,)),</span>
<span class="go">                 (&#39;contour&#39;, &#39;?&#39;, (3,)),</span>
<span class="go">                 (&#39;image&#39;, &#39;&lt;f8&#39;, (3,)),</span>
<span class="go">                 (&#39;area&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">                 (&#39;max_F&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">                 (&#39;gaussian_mean&#39;, &#39;&lt;f8&#39;, (1,)),</span>
<span class="go">                 (&#39;gaussian_cov&#39;, &#39;&lt;f8&#39;, (1, 1)),</span>
<span class="go">                 (&#39;centroid&#39;, &#39;&lt;f8&#39;, (1,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_empty_neuron</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> 
<span class="go">array([], dtype=[(&#39;mask&#39;, &#39;?&#39;, (2, 3)),</span>
<span class="go">                 (&#39;contour&#39;, &#39;?&#39;, (2, 3)),</span>
<span class="go">                 (&#39;image&#39;, &#39;&lt;f8&#39;, (2, 3)),</span>
<span class="go">                 (&#39;area&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">                 (&#39;max_F&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">                 (&#39;gaussian_mean&#39;, &#39;&lt;f8&#39;, (2,)),</span>
<span class="go">                 (&#39;gaussian_cov&#39;, &#39;&lt;f8&#39;, (2, 2)),</span>
<span class="go">                 (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.get_neuron_dtype">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">get_neuron_dtype</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#get_neuron_dtype"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.get_neuron_dtype" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets the type based on properties of an image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image</strong> (<em>numpy.ndarray</em>) &#8211; a single sample image (only spatial dimension).</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a list that can be converted to a numpy.dtype using numpy.ndtype&#8217;s constructor.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">list</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_neuron_dtype</span><span class="p">((</span><span class="mi">3</span><span class="p">,),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> 
<span class="go">[(&#39;mask&#39;, &lt;type &#39;numpy.bool_&#39;&gt;, (3,)),</span>
<span class="go"> (&#39;contour&#39;, &lt;type &#39;numpy.bool_&#39;&gt;, (3,)),</span>
<span class="go"> (&#39;image&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (3,)),</span>
<span class="go"> (&#39;area&#39;, &lt;type &#39;numpy.float64&#39;&gt;),</span>
<span class="go"> (&#39;max_F&#39;, &lt;type &#39;numpy.float64&#39;&gt;),</span>
<span class="go"> (&#39;gaussian_mean&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (1,)),</span>
<span class="go"> (&#39;gaussian_cov&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (1, 1)),</span>
<span class="go"> (&#39;centroid&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (1,))]</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_neuron_dtype</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span> 
<span class="go">[(&#39;mask&#39;, &lt;type &#39;numpy.bool_&#39;&gt;, (2, 3)),</span>
<span class="go"> (&#39;contour&#39;, &lt;type &#39;numpy.bool_&#39;&gt;, (2, 3)),</span>
<span class="go"> (&#39;image&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (2, 3)),</span>
<span class="go"> (&#39;area&#39;, &lt;type &#39;numpy.float64&#39;&gt;),</span>
<span class="go"> (&#39;max_F&#39;, &lt;type &#39;numpy.float64&#39;&gt;),</span>
<span class="go"> (&#39;gaussian_mean&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (2,)),</span>
<span class="go"> (&#39;gaussian_cov&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (2, 2)),</span>
<span class="go"> (&#39;centroid&#39;, &lt;type &#39;numpy.float64&#39;&gt;, (2,))]</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.get_one_neuron">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">get_one_neuron</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#get_one_neuron"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.get_one_neuron" title="Permalink to this definition">¶</a></dt>
<dd><p>Gets a numpy structured array using the type from get_neuron_dtype that has one neuron with all zeros.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_image</strong> (<em>numpy.ndarray</em>) &#8211; an empty numpy structured array with all types needed for a neuron.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a numpy structured array with one neuron using type from get_neuron_dtype.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_one_neuron</span><span class="p">((</span><span class="mi">3</span><span class="p">,),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float</span><span class="p">)</span> 
<span class="go">array([ ([False, False, False],</span>
<span class="go">         [False, False, False],</span>
<span class="go">         [0.0, 0.0, 0.0],</span>
<span class="go">         0.0,</span>
<span class="go">         0.0,</span>
<span class="go">         [0.0],</span>
<span class="go">         [[0.0]],</span>
<span class="go">         [0.0])],</span>
<span class="go">       dtype=[(&#39;mask&#39;, &#39;?&#39;, (3,)),</span>
<span class="go">              (&#39;contour&#39;, &#39;?&#39;, (3,)),</span>
<span class="go">              (&#39;image&#39;, &#39;&lt;f8&#39;, (3,)),</span>
<span class="go">              (&#39;area&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">              (&#39;max_F&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">              (&#39;gaussian_mean&#39;, &#39;&lt;f8&#39;, (1,)),</span>
<span class="go">              (&#39;gaussian_cov&#39;, &#39;&lt;f8&#39;, (1, 1)),</span>
<span class="go">              (&#39;centroid&#39;, &#39;&lt;f8&#39;, (1,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">get_one_neuron</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float</span><span class="p">)</span> 
<span class="go">array([ ([[False, False, False],</span>
<span class="go">          [False, False, False]],</span>
<span class="go">         [[False, False, False],</span>
<span class="go">          [False, False, False]],</span>
<span class="go">         [[0.0, 0.0, 0.0],</span>
<span class="go">          [0.0, 0.0, 0.0]],</span>
<span class="go">         0.0,</span>
<span class="go">         0.0,</span>
<span class="go">         [0.0, 0.0],</span>
<span class="go">        [[0.0, 0.0],</span>
<span class="go">         [0.0, 0.0]],</span>
<span class="go">        [0.0, 0.0])],</span>
<span class="go">       dtype=[(&#39;mask&#39;, &#39;?&#39;, (2, 3)),</span>
<span class="go">              (&#39;contour&#39;, &#39;?&#39;, (2, 3)),</span>
<span class="go">              (&#39;image&#39;, &#39;&lt;f8&#39;, (2, 3)),</span>
<span class="go">              (&#39;area&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">              (&#39;max_F&#39;, &#39;&lt;f8&#39;),</span>
<span class="go">              (&#39;gaussian_mean&#39;, &#39;&lt;f8&#39;, (2,)),</span>
<span class="go">              (&#39;gaussian_cov&#39;, &#39;&lt;f8&#39;, (2, 2)),</span>
<span class="go">              (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.merge_neuron_sets">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">merge_neuron_sets</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#merge_neuron_sets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.merge_neuron_sets" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.merge_neuron_sets_once">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">merge_neuron_sets_once</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#merge_neuron_sets_once"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.merge_neuron_sets_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the two sets of neurons into one. Appends neurons that cannot be merged with the existing set.</p>
<p>In the functions that follow, it helps to think of each neuron as a vector (instead of as an image). So, dot
products for vectors are important.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first neuron set (new_neuron_set_1) is preferred and treated as the set to merge into. However, this
function will not change the original argument.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_neuron_set_1</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the
first neuron set (preferred for tie breaking).</li>
<li><strong>new_neuron_set_2</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the
second neuron set.</li>
<li><strong>alignment_min_threshold</strong> (<em>float</em>) &#8211; The minimum required cosine of the angle between two neurons for
them to be treated as candidates for merging (uses the function
expanded_numpy.dot_product_normalized with ord = 2).</li>
<li><strong>overlap_min_threshold</strong> (<em>numpy.ndarray</em>) &#8211; The minimum required dot product (divided by the L1 norm of one
of the neurons) for them to be treated as candidates for merging
(uses the function expanded_numpy.dot_product_partially_normalized).</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; dictionary of parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy structured array that contains the result of merging the
two sets (or appending for neurons that could not be merged).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.merge_neuron_sets_repeatedly">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">merge_neuron_sets_repeatedly</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#merge_neuron_sets_repeatedly"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.merge_neuron_sets_repeatedly" title="Permalink to this definition">¶</a></dt>
<dd><p>Merges the two sets of neurons into one. Appends neurons that cannot be merged with the existing set.</p>
<p>In the functions that follow, it helps to think of each neuron as a vector (instead of as an image). So, dot
products for vectors are important.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">The first neuron set (new_neuron_set_1) is preferred and treated as the set to merge into. However, this
function will not change the original argument.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_neuron_set_1</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the
first neuron set (preferred for tie breaking).</li>
<li><strong>new_neuron_set_2</strong> (<em>numpy.ndarray</em>) &#8211; numpy structured array (dtype get_neuron_dtype) containing the
second neuron set.</li>
<li><strong>alignment_min_threshold</strong> (<em>float</em>) &#8211; The minimum required cosine of the angle between two neurons for
them to be treated as candidates for merging (uses the function
expanded_numpy.dot_product_normalized with ord = 2).</li>
<li><strong>overlap_min_threshold</strong> (<em>numpy.ndarray</em>) &#8211; The minimum required dot product (divided by the L1 norm of one
of the neurons) for them to be treated as candidates for merging
(uses the function expanded_numpy.dot_product_partially_normalized).</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; dictionary of parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a numpy structured array that contains the result of merging the
two sets (or appending for neurons that could not be merged).</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.normalize_data">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">normalize_data</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#normalize_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.normalize_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the mean from each image and normalizes each image as if they were vectors.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; array of data for normalization (first axis is time).</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; contains arguments for simple_image_processing.renormalized_images.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">data that has been normalized.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">,))</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">,</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_data</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">&quot;simple_image_processing.renormalized_images&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;ord&quot;</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}})</span>
<span class="go">array([[[ 0.8660254 , -0.28867513],</span>
<span class="go">        [-0.28867513, -0.28867513]],</span>

<span class="go">       [[-0.28867513, -0.28867513],</span>
<span class="go">        [-0.28867513,  0.8660254 ]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_data</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">b</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">&quot;simple_image_processing.renormalized_images&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;ord&quot;</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}})</span>
<span class="go">array([[[ 0.8660254 , -0.28867513],</span>
<span class="go">        [-0.28867513, -0.28867513]],</span>

<span class="go">       [[-0.28867513, -0.28867513],</span>
<span class="go">        [-0.28867513,  0.8660254 ]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">array([[[ 0.8660254 , -0.28867513],</span>
<span class="go">        [-0.28867513, -0.28867513]],</span>

<span class="go">       [[-0.28867513, -0.28867513],</span>
<span class="go">        [-0.28867513,  0.8660254 ]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">normalize_data</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">out</span><span class="o">=</span><span class="n">a</span><span class="p">,</span> <span class="o">**</span><span class="p">{</span><span class="s">&quot;simple_image_processing.renormalized_images&quot;</span> <span class="p">:</span> <span class="p">{</span> <span class="s">&quot;ord&quot;</span> <span class="p">:</span> <span class="mi">2</span> <span class="p">}})</span>
<span class="go">array([[[ 0.8660254 , -0.28867513],</span>
<span class="go">        [-0.28867513, -0.28867513]],</span>

<span class="go">       [[-0.28867513, -0.28867513],</span>
<span class="go">        [-0.28867513,  0.8660254 ]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[[ 0.8660254 , -0.28867513],</span>
<span class="go">        [-0.28867513, -0.28867513]],</span>

<span class="go">       [[-0.28867513, -0.28867513],</span>
<span class="go">        [-0.28867513,  0.8660254 ]]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.postprocess_data">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">postprocess_data</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#postprocess_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.postprocess_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates neurons from the dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_dictionary</strong> (<em>numpy.ndarray</em>) &#8211; dictionary of basis images to analyze for neurons.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; dictionary of parameters</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">structured array with relevant information for each neuron found.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.preprocess_data">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">preprocess_data</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#preprocess_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.preprocess_data" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs all preprocessing steps that are specified (remove_zeroed_lines, bias, extract_f0, and
wavelet_transform).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; array of data for generating a dictionary (first axis is time).</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; where the final result will be stored.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; additional parameters for each step of preprocessing.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">the dictionary found.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">dict</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.region_properties">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">region_properties</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#region_properties"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.region_properties" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs region properties from a label image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label_image</strong> (<em>numpy.ndarray</em>) &#8211; label image used for generating properties.</li>
<li><strong>args</strong> (<em>list</em>) &#8211; additional position arguments to pass skimage.measure.regionprops.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; additional keyword arguments to pass skimage.measure.regionprops.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uses all the same options in skimage.measure.regionprops. If a property is not specified, then it won&#8217;t be
returned.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a structured array of all the properties found for each label.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span> 
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span> 
<span class="go">array([(1, 4.0, [0.5, 0.5])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span> 
<span class="go">array([(1, 9.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 3.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.region_properties_scikit_image">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">region_properties_scikit_image</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#region_properties_scikit_image"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.region_properties_scikit_image" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs region properties from a label image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label_image</strong> (<em>numpy.ndarray</em>) &#8211; label image used for generating properties.</li>
<li><strong>args</strong> (<em>list</em>) &#8211; additional position arguments to pass skimage.measure.regionprops.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; additional keyword arguments to pass skimage.measure.regionprops.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uses all the same options in skimage.measure.regionprops. If a property is not specified, then it won&#8217;t be
returned.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a structured array of all the properties found for each label.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_scikit_image</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_scikit_image</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 4.0, [0.5, 0.5])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_scikit_image</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 9.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_scikit_image</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 3.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.region_properties_vigra">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">region_properties_vigra</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#region_properties_vigra"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.region_properties_vigra" title="Permalink to this definition">¶</a></dt>
<dd><p>Grabs region properties from a label image.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>new_label_image</strong> (<em>numpy.ndarray</em>) &#8211; label image used for generating properties.</li>
<li><strong>args</strong> (<em>list</em>) &#8211; additional position arguments to pass skimage.measure.regionprops.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; additional keyword arguments to pass skimage.measure.regionprops.</li>
</ul>
</td>
</tr>
</tbody>
</table>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Uses all the same options in skimage.measure.regionprops. If a property is not specified, then it won&#8217;t be
returned.</p>
</div>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">a structured array of all the properties found for each label.</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_vigra</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_vigra</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 4.0, [0.5, 0.5])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_vigra</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span><span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 9.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">region_properties_vigra</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">int</span><span class="p">))</span>
<span class="go">array([(1, 3.0, [1.0, 1.0])],</span>
<span class="go">      dtype=[(&#39;label&#39;, &#39;&lt;i8&#39;), (&#39;area&#39;, &#39;&lt;f8&#39;), (&#39;centroid&#39;, &#39;&lt;f8&#39;, (2,))])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.remove_low_intensity_local_maxima">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">remove_low_intensity_local_maxima</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#remove_low_intensity_local_maxima"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.remove_low_intensity_local_maxima" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes the local maxima for regions, which have too many pixels that are below the intensity of their local
maxima.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>local_maxima</strong> (<a class="reference internal" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps" title="nanshe.imp.advanced_image_processing.ExtendedRegionProps"><em>ExtendedRegionProps</em></a>) &#8211; The local maxima to refine</li>
<li><strong>percentage_pixels_below_max</strong> (<em>float</em>) &#8211; The percentage of pixels out of a region that are below the
local maxima of the region</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; essentially unused (catches unneeded arguments).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new instance with the local maxima removed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps" title="nanshe.imp.advanced_image_processing.ExtendedRegionProps">ExtendedRegionProps</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.remove_too_close_local_maxima">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">remove_too_close_local_maxima</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#remove_too_close_local_maxima"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.remove_too_close_local_maxima" title="Permalink to this definition">¶</a></dt>
<dd><p>Removes local maxima that are too close to each other.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>local_maxima</strong> (<a class="reference internal" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps" title="nanshe.imp.advanced_image_processing.ExtendedRegionProps"><em>ExtendedRegionProps</em></a>) &#8211; The local maxima to refine</li>
<li><strong>min_local_max_distance</strong> (<em>float</em>) &#8211; The minimum allowed distance between local maxima</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; essentially unused (catches unneeded arguments).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new instance with the local maxima removed</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last"><a class="reference internal" href="#nanshe.imp.advanced_image_processing.ExtendedRegionProps" title="nanshe.imp.advanced_image_processing.ExtendedRegionProps">ExtendedRegionProps</a></p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.remove_zeroed_lines">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">remove_zeroed_lines</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#remove_zeroed_lines"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.remove_zeroed_lines" title="Permalink to this definition">¶</a></dt>
<dd><p>Due to registration errors, there will sometimes be lines that are zero.
To correct this, we find an interpolated value and</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_data</strong> (<em>numpy.ndarray</em>) &#8211; data to remove lines from (first axis is time).</li>
<li><strong>erosion_shape</strong> (<em>numpy.ndarray</em>) &#8211; shape of the erosion element (will be filled with 1).</li>
<li><strong>dilation_shape</strong> (<em>numpy.ndarray</em>) &#8211; shape of the dilation element (will be filled with 1).</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; where the final results will be stored.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; essentially unused (catches unneeded arguments).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a new array with the zeroed lines interpolated away.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.advanced_image_processing.wavelet_denoising">
<code class="descclassname">nanshe.imp.advanced_image_processing.</code><code class="descname">wavelet_denoising</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/advanced_image_processing.html#wavelet_denoising"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.advanced_image_processing.wavelet_denoising" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs wavelet denoising on the given dictionary.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_image</strong> (<em>numpy.ndarray</em>) &#8211; array of data for generating a dictionary (first axis is time).</li>
<li><strong>accepted_region_shape_constraints</strong> (<em>dict</em>) &#8211; a dictionary containing properties (that could be passed to
region_properties) under this should be a dictionary that
contains the keys min and/or max with a value for each.</li>
<li><strong>accepted_neuron_shape_constraints</strong> (<em>dict</em>) &#8211; a dictionary containing properties (that could be passed to
region_properties) under this should be a dictionary that
contains the keys min and/or max with a value for each.</li>
<li><strong>**parameters</strong> (<em>dict</em>) &#8211; additional parameters for various other function calls.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">a structured array of candidate neurons.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.binary_image_processing">
<span id="nanshe-imp-binary-image-processing-module"></span><h2>nanshe.imp.binary_image_processing module<a class="headerlink" href="#module-nanshe.imp.binary_image_processing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.imp.binary_image_processing.binary_dilation">
<code class="descclassname">nanshe.imp.binary_image_processing.</code><code class="descname">binary_dilation</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/binary_image_processing.html#binary_dilation"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.binary_image_processing.binary_dilation" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs simple binary dilation on a bool array of arbitrary dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> (<em>numpy.ndarray</em>) &#8211; the bool array to perform dilation on.</li>
<li><strong>footprint</strong> (<em>numpy.ndarray</em>) &#8211; the footprint to use for the kernel.</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; a place to store the result if provided. (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> &#8211;
Same as out if out was provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_dilation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="go">array([[ True,  True,  True, False, False, False, False],</span>
<span class="go">       [ True,  True,  True, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_dilation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">),</span> <span class="n">out</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">array([[ True,  True,  True, False, False, False, False],</span>
<span class="go">       [ True,  True,  True, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">array([[ True,  True,  True, False, False, False, False],</span>
<span class="go">       [ True,  True,  True, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_dilation</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">),</span> <span class="n">out</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="go">array([[ True,  True,  True, False, False, False, False],</span>
<span class="go">       [ True,  True,  True, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[ True,  True,  True, False, False, False, False],</span>
<span class="go">       [ True,  True,  True, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False,  True,  True,  True, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.binary_image_processing.binary_erosion">
<code class="descclassname">nanshe.imp.binary_image_processing.</code><code class="descname">binary_erosion</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/binary_image_processing.html#binary_erosion"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.binary_image_processing.binary_erosion" title="Permalink to this definition">¶</a></dt>
<dd><p>Performs simple binary erosion on a bool array of arbitrary dimension.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> (<em>numpy.ndarray</em>) &#8211; the bool array to perform erosion on.</li>
<li><strong>footprint</strong> (<em>numpy.ndarray</em>) &#8211; the footprint to use for the kernel.</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; a place to store the result if provided. (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>out</strong> &#8211;
Same as out if out was provided.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span> <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span> <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span>  <span class="bp">True</span><span class="p">,</span> <span class="bp">False</span><span class="p">],</span>
<span class="gp">... </span>                 <span class="p">[</span><span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span> <span class="bp">False</span><span class="p">,</span>  <span class="bp">True</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_erosion</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">))</span>
<span class="go">array([[ True,  True, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_erosion</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">),</span> <span class="n">out</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">array([[ True,  True, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">array([[ True,  True, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binary_erosion</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">numpy</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="o">*</span><span class="p">(</span><span class="mi">3</span><span class="p">,),</span> <span class="n">dtype</span><span class="o">=</span><span class="nb">bool</span><span class="p">),</span> <span class="n">out</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="go">array([[ True,  True, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[ True,  True, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False,  True, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False],</span>
<span class="go">       [False, False, False, False, False, False, False]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.denoising">
<span id="nanshe-imp-denoising-module"></span><h2>nanshe.imp.denoising module<a class="headerlink" href="#module-nanshe.imp.denoising" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.imp.denoising.estimate_noise">
<code class="descclassname">nanshe.imp.denoising.</code><code class="descname">estimate_noise</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/denoising.html#estimate_noise"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.denoising.estimate_noise" title="Permalink to this definition">¶</a></dt>
<dd><p>Estimates the noise in the given array.</p>
<p>Using the array finds what the standard deviation is of some values in
the array, which are within the standard deviation of the whole array times
the significance threshold</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> (<em>numpy.ndarray</em>) &#8211; the array to estimate noise of.</li>
<li><strong>significance_threshold</strong> (<em>float</em>) &#8211; the number of standard deviations (of the whole array), below which must be noise.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>cs</strong> &#8211;
a numpy array containing the row of Pascal&#8217;s triangle.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">))</span>
<span class="go">0.5</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">significance_threshold</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.5</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">significance_threshold</span> <span class="o">=</span> <span class="mi">3</span><span class="p">)</span>
<span class="go">0.47140452079103173</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span><span class="p">;</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2000</span><span class="p">)),</span> <span class="n">significance_threshold</span> <span class="o">=</span> <span class="mi">1</span><span class="p">))</span><span class="o">/</span><span class="mi">1000</span>
<span class="go">0.166</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span><span class="p">;</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2000</span><span class="p">)),</span> <span class="n">significance_threshold</span> <span class="o">=</span> <span class="mi">2</span><span class="p">))</span><span class="o">/</span><span class="mi">1000</span>
<span class="go">0.288</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="kn">import</span> <span class="nn">math</span><span class="p">;</span> <span class="n">math</span><span class="o">.</span><span class="n">floor</span><span class="p">(</span><span class="mi">1000</span><span class="o">*</span><span class="n">estimate_noise</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">random</span><span class="p">((</span><span class="mi">2000</span><span class="p">,</span><span class="mi">2000</span><span class="p">)),</span> <span class="n">significance_threshold</span> <span class="o">=</span> <span class="mi">3</span><span class="p">))</span><span class="o">/</span><span class="mi">1000</span>
<span class="go">0.288</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.denoising.noise_mask">
<code class="descclassname">nanshe.imp.denoising.</code><code class="descname">noise_mask</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/denoising.html#noise_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.denoising.noise_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Using estimate_noise, creates a mask that selects the noise and suppresses non-noise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> (<em>numpy.ndarray</em>) &#8211; the array to use for generating the noise mask.</li>
<li><strong>significance_threshold</strong> (<em>float</em>) &#8211; the number of standard deviations (of the whole array),
below which must be noise.</li>
<li><strong>noise_threshold</strong> (<em>float</em>) &#8211; the estimated noise times this value determines the max value
to consider as noise (to zero).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> &#8211;
a numpy array with noise zeroed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">noise_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">6.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">array([[ True,  True],</span>
<span class="go">       [ True,  True]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">noise_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">array([[False, False],</span>
<span class="go">       [False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">noise_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.47140452079103173</span><span class="p">)</span>
<span class="go">array([[ True,  True,  True],</span>
<span class="go">       [ True,  True,  True],</span>
<span class="go">       [ True,  True,  True]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">noise_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.47140452079103173</span><span class="p">)</span>
<span class="go">array([[False,  True,  True],</span>
<span class="go">       [ True, False,  True],</span>
<span class="go">       [ True,  True, False]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.denoising.significant_mask">
<code class="descclassname">nanshe.imp.denoising.</code><code class="descname">significant_mask</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/denoising.html#significant_mask"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.denoising.significant_mask" title="Permalink to this definition">¶</a></dt>
<dd><p>Using estimate_noise, creates a mask that selects the non-noise and suppresses noise.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>input_array</strong> (<em>numpy.ndarray</em>) &#8211; the array, which needs noise removed.</li>
<li><strong>noise_threshold</strong> (<em>float</em>) &#8211; the estimated noise times this value determines the max value to
consider as noise (to zero).</li>
<li><strong>in_place</strong> (<em>bool</em>) &#8211; whether to modify input_array directly or to return a copy instead.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>result</strong> &#8211;
a numpy array with noise zeroed.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">significant_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">6.0</span><span class="p">)</span>
<span class="go">array([[False, False],</span>
<span class="go">       [False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">significant_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">6.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">array([[False, False],</span>
<span class="go">       [False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">significant_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">2</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.5</span><span class="p">)</span>
<span class="go">array([[ True,  True],</span>
<span class="go">       [ True,  True]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">significant_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">2.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.47140452079103173</span><span class="p">)</span>
<span class="go">array([[False, False, False],</span>
<span class="go">       [False, False, False],</span>
<span class="go">       [False, False, False]], dtype=bool)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">significant_mask</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">),</span> <span class="n">noise_threshold</span> <span class="o">=</span> <span class="mf">1.0</span><span class="p">,</span> <span class="n">noise_estimate</span> <span class="o">=</span> <span class="mf">0.47140452079103173</span><span class="p">)</span>
<span class="go">array([[ True, False, False],</span>
<span class="go">       [False,  True, False],</span>
<span class="go">       [False, False,  True]], dtype=bool)</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.neuron_matplotlib_viewer">
<span id="nanshe-imp-neuron-matplotlib-viewer-module"></span><h2>nanshe.imp.neuron_matplotlib_viewer module<a class="headerlink" href="#module-nanshe.imp.neuron_matplotlib_viewer" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer">
<em class="property">class </em><code class="descclassname">nanshe.imp.neuron_matplotlib_viewer.</code><code class="descname">NeuronMatplotlibViewer</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#NeuronMatplotlibViewer"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">matplotlib.figure.Figure</span></code></p>
<p>Provides a way to interact with numpy arrays pulled from neuron images.</p>
<p>Wraps a Matplotlib figure instance.</p>
<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer.set_images">
<code class="descname">set_images</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#NeuronMatplotlibViewer.set_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer.set_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets the images to be viewed.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>new_neuron_images</strong> (<em>numpy.ndarray</em>) &#8211; array of images (first index is which image)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer.time_update">
<code class="descname">time_update</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#NeuronMatplotlibViewer.time_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.NeuronMatplotlibViewer.time_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Method to be called by the TimeNavigator when the time changes. Updates image displayed.</p>
</dd></dl>

</dd></dl>

<dl class="class">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator">
<em class="property">class </em><code class="descclassname">nanshe.imp.neuron_matplotlib_viewer.</code><code class="descname">TimeNavigator</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal"><span class="pre">object</span></code></p>
<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.begin_time">
<code class="descname">begin_time</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.begin_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.begin_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets time to min_time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Matplotlib event that caused the call to this callback.</strong> (<em>event</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.disconnect">
<code class="descname">disconnect</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.disconnect"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.disconnect" title="Permalink to this definition">¶</a></dt>
<dd><p>Disconnects the given cid from being notified of time updates.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>ID of callback to pull</strong> (<em>cid</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.end_time">
<code class="descname">end_time</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.end_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.end_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets time to max_time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Matplotlib event that caused the call to this callback.</strong> (<em>event</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.next_time">
<code class="descname">next_time</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.next_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.next_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets time to one time_step after.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Matplotlib event that caused the call to this callback.</strong> (<em>event</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.normalize_val">
<code class="descname">normalize_val</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.normalize_val"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.normalize_val" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the time value and normalizes it to fit within the range.
Then, makes sure it is a discrete number of steps from the min_time.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>float position from the slider bar to correct</strong> (<em>val</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">the normalized value.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.on_time_update">
<code class="descname">on_time_update</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.on_time_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.on_time_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Registers a callback function for notification when the time is updated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>function call when the time is updated</strong> (<em>func</em>) &#8211; </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">a callback ID or cid to allow pulling the callback when no longer necessary.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.prev_time">
<code class="descname">prev_time</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.prev_time"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.prev_time" title="Permalink to this definition">¶</a></dt>
<dd><p>Sets time to one time_step prior.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>Matplotlib event that caused the call to this callback.</strong> (<em>event</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.time_update">
<code class="descname">time_update</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/neuron_matplotlib_viewer.html#TimeNavigator.time_update"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.neuron_matplotlib_viewer.TimeNavigator.time_update" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes the time value and normalizes it within the range if it does not fit.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>float position from slider bar to move to</strong> (<em>val</em>) &#8211; </td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.registration">
<span id="nanshe-imp-registration-module"></span><h2>nanshe.imp.registration module<a class="headerlink" href="#module-nanshe.imp.registration" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.imp.registration.find_offsets">
<code class="descclassname">nanshe.imp.registration.</code><code class="descname">find_offsets</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/registration.html#find_offsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.registration.find_offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>Computes the convolution of the template with the frames by taking advantage of their FFTs for faster
computation that an ordinary convolution ( O(N*lg(N)) vs O(N^2) )
&lt; <a class="reference external" href="https://ccrma.stanford.edu/~jos/ReviewFourier/FFT_Convolution_vs_Direct.html">https://ccrma.stanford.edu/~jos/ReviewFourier/FFT_Convolution_vs_Direct.html</a> &gt;.
Once computed the maximum of the convolution is found to determine the best overlap of each frame with the
template, which provides the needed offset. Some corrections are performed to make reasonable offsets.</p>
<p class="rubric">Notes</p>
<p>Adapted from code provided by Wenzhi Sun with speed improvements provided by Uri Dubin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frames2reg</strong> (<em>numpy.ndarray</em>) &#8211; image stack to register (time is the first dimension uses C-order tyx
or tzyx).</li>
<li><strong>template_fft</strong> (<em>numpy.ndarray</em>) &#8211; what to register the image stack against (single frame using C-order
yx or zyx).</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an array containing the translations to apply to each frame.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(numpy.ndarray)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span> <span class="n">a</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span>
<span class="go">array([[[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 1.,  1.,  1.,  1.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">af</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">fftn</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">axes</span><span class="o">=</span><span class="nb">range</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="n">a</span><span class="o">.</span><span class="n">ndim</span><span class="p">));</span> <span class="n">af</span>
<span class="go">array([[[ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ]],</span>

<span class="go">       [[ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ]],</span>

<span class="go">       [[ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [-2.+3.46410162j,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [-2.-3.46410162j,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ]],</span>

<span class="go">       [[ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ]],</span>

<span class="go">       [[ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ],</span>
<span class="go">        [ 4.+0.j        ,  0.+0.j        ,  0.+0.j        ,  0.+0.j        ]]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">tf</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">fft</span><span class="o">.</span><span class="n">fftn</span><span class="p">(</span><span class="n">a</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">axis</span><span class="o">=</span><span class="mi">0</span><span class="p">));</span> <span class="n">tf</span>
<span class="go">array([[ 4.0+0.j        ,  0.0+0.j        ,  0.0+0.j        ,  0.0+0.j        ],</span>
<span class="go">       [ 2.8+0.69282032j,  0.0+0.j        ,  0.0+0.j        ,  0.0+0.j        ],</span>
<span class="go">       [ 2.8-0.69282032j,  0.0+0.j        ,  0.0+0.j        ,  0.0+0.j        ]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">find_offsets</span><span class="p">(</span><span class="n">af</span><span class="p">,</span> <span class="n">tf</span><span class="p">)</span>
<span class="go">array([[ 0,  0],</span>
<span class="go">       [ 0,  0],</span>
<span class="go">       [-2,  0],</span>
<span class="go">       [ 0,  0],</span>
<span class="go">       [ 0,  0]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.registration.register_mean_offsets">
<code class="descclassname">nanshe.imp.registration.</code><code class="descname">register_mean_offsets</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/registration.html#register_mean_offsets"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.registration.register_mean_offsets" title="Permalink to this definition">¶</a></dt>
<dd><p>This algorithm registers the given image stack against its mean projection. This is done by computing
translations needed to put each frame in alignment. Then the translation is performed and new translations are
computed. This is repeated until no further improvement can be made.</p>
<p>The code for translations can be found in find_mean_offsets.</p>
<p class="rubric">Notes</p>
<p>Adapted from code provided by Wenzhi Sun with speed improvements provided by Uri Dubin.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>frames2reg</strong> (<em>numpy.ndarray</em>) &#8211; Image stack to register (time is the first dimension uses C-order tyx
or tzyx).</li>
<li><strong>max_iters</strong> (<em>int</em>) &#8211; Number of iterations to allow before forcing termination if stable
point is not found yet. Set to -1 if no limit. (Default -1)</li>
<li><strong>block_frame_length</strong> (<em>int</em>) &#8211; Number of frames to work with at a time.
By default all. (Default -1)</li>
<li><strong>include_shift</strong> (<em>bool</em>) &#8211; Whether to return the shifts used, as well. (Default False)</li>
<li><strong>to_truncate</strong> (<em>bool</em>) &#8211; Whether to truncate the frames to remove all masked portions. (Default False)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">an array containing the translations to apply to each frame.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">(numpy.ndarray)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">));</span> <span class="n">a</span><span class="p">[:,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">a</span><span class="p">[</span><span class="mi">2</span><span class="p">,</span><span class="mi">2</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">a</span>
<span class="go">array([[[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 1.,  1.,  1.,  1.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]],</span>

<span class="go">       [[ 1.,  1.,  1.,  1.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.],</span>
<span class="go">        [ 0.,  0.,  0.,  0.]]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">register_mean_offsets</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">include_shift</span><span class="o">=</span><span class="bp">True</span><span class="p">)</span>
<span class="go">(masked_array(data =</span>
<span class="go"> [[[1.0 1.0 1.0 1.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]]</span>

<span class="go"> [[1.0 1.0 1.0 1.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]]</span>

<span class="go"> [[-- -- -- --]</span>
<span class="go">  [0.0 0.0 0.0 0.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]]</span>

<span class="go"> [[1.0 1.0 1.0 1.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]]</span>

<span class="go"> [[1.0 1.0 1.0 1.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]</span>
<span class="go">  [0.0 0.0 0.0 0.0]]],</span>
<span class="go">             mask =</span>
<span class="go"> [[[False False False False]</span>
<span class="go">  [False False False False]</span>
<span class="go">  [False False False False]]</span>

<span class="go"> [[False False False False]</span>
<span class="go">  [False False False False]</span>
<span class="go">  [False False False False]]</span>

<span class="go"> [[ True  True  True  True]</span>
<span class="go">  [False False False False]</span>
<span class="go">  [False False False False]]</span>

<span class="go"> [[False False False False]</span>
<span class="go">  [False False False False]</span>
<span class="go">  [False False False False]]</span>

<span class="go"> [[False False False False]</span>
<span class="go">  [False False False False]</span>
<span class="go">  [False False False False]]],</span>
<span class="go">       fill_value = 0.0)</span>
<span class="go">, array([[0, 0],</span>
<span class="go">       [0, 0],</span>
<span class="go">       [1, 0],</span>
<span class="go">       [0, 0],</span>
<span class="go">       [0, 0]]))</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.simple_image_processing">
<span id="nanshe-imp-simple-image-processing-module"></span><h2>nanshe.imp.simple_image_processing module<a class="headerlink" href="#module-nanshe.imp.simple_image_processing" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.imp.simple_image_processing.renormalized_images">
<code class="descclassname">nanshe.imp.simple_image_processing.</code><code class="descname">renormalized_images</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/simple_image_processing.html#renormalized_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.simple_image_processing.renormalized_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes and finds the mean for each image. Where each image is new_numpy_array[i] with some index i.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_numpy_array</strong> (<em>numpy.ndarray</em>) &#8211; array images with time as the first index</li>
<li><strong>output_array</strong> (<em>numpy.ndarray</em>) &#8211; provides a location to store the result (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>result</strong> &#8211;
The same array with each images mean removed.</p>
<blockquote>
<div><p>Where means[i] = mean(new_numpy_array[i])</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">1.</span><span class="p">],[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]]))</span>
<span class="go">array([[ 0.,  1.],</span>
<span class="go">       [ 1.,  0.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]]))</span> 
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">],[</span><span class="mi">1</span><span class="p">,</span><span class="mi">0</span><span class="p">]],</span> <span class="n">dtype</span><span class="o">=</span><span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="go">array([[ 0.,  1.],</span>
<span class="go">       [ 1.,  0.]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]]))</span>
<span class="go">array([[ 0.,  1.],</span>
<span class="go">       [ 1.,  0.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">2.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]]))</span>
<span class="go">array([[ 0.70710678,  0.70710678],</span>
<span class="go">       [ 1.        ,  0.        ]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]))</span>
<span class="go">array([[ 0.4472136 ,  0.89442719],</span>
<span class="go">       [ 0.6       ,  0.8       ]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]),</span> <span class="nb">ord</span> <span class="o">=</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">array([[ 0.33333333,  0.66666667],</span>
<span class="go">       [ 0.42857143,  0.57142857]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">renormalized_images</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">renormalized_images</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">output_array</span> <span class="o">=</span> <span class="n">a</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">);</span> <span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">b</span> <span class="o">==</span> <span class="n">renormalized_images</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">output_array</span> <span class="o">=</span> <span class="n">b</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">renormalized_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">,)))</span>
<span class="go">array([[ 0.,  0.,  0.],</span>
<span class="go">       [ 0.,  0.,  0.]])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.simple_image_processing.zeroed_mean_images">
<code class="descclassname">nanshe.imp.simple_image_processing.</code><code class="descname">zeroed_mean_images</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/simple_image_processing.html#zeroed_mean_images"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.simple_image_processing.zeroed_mean_images" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes and finds the mean for each image. Where each image is new_numpy_array[i] with some index i.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>new_numpy_array</strong> (<em>numpy.ndarray</em>) &#8211; array images with time as the first index</li>
<li><strong>output_array</strong> (<em>numpy.ndarray</em>) &#8211; provides a location to store the result (optional)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><p><strong>result</strong> &#8211;
The same array with each images mean removed.</p>
<blockquote>
<div><p>Where means[i] = mean(new_numpy_array[i])</p>
</div></blockquote>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]]))</span>
<span class="go">array([[ 0.,  0.],</span>
<span class="go">       [ 0.,  0.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">6.</span><span class="p">,</span><span class="mf">0.</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">]]))</span>
<span class="go">array([[ 3., -3.],</span>
<span class="go">       [ 0.,  0.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">0.</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]))</span>
<span class="go">array([[ 0.,  0.],</span>
<span class="go">       [-2.,  2.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">6.</span><span class="p">,</span><span class="mi">0</span><span class="p">],[</span><span class="mf">0.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]))</span>
<span class="go">array([[ 3., -3.],</span>
<span class="go">       [-2.,  2.]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]))</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]]))</span> 
<span class="gt">Traceback (most recent call last):</span>
    <span class="o">...</span>
<span class="gr">AssertionError</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">output_array</span><span class="o">=</span><span class="n">a</span><span class="p">)</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">a</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">b</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros_like</span><span class="p">(</span><span class="n">a</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">output_array</span><span class="o">=</span><span class="n">b</span><span class="p">)</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">b</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">],[</span><span class="mi">3</span><span class="p">,</span><span class="mi">4</span><span class="p">]])</span><span class="o">.</span><span class="n">astype</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">))</span>
<span class="go">array([[-0.5,  0.5],</span>
<span class="go">       [-0.5,  0.5]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span> <span class="o">!=</span> <span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">a</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">a</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">array</span><span class="p">([[</span><span class="mf">1.</span><span class="p">,</span><span class="mf">2.</span><span class="p">],[</span><span class="mf">3.</span><span class="p">,</span><span class="mf">4.</span><span class="p">]]);</span> <span class="n">numpy</span><span class="o">.</span><span class="n">all</span><span class="p">(</span><span class="n">a</span> <span class="o">==</span> <span class="n">zeroed_mean_images</span><span class="p">(</span><span class="n">a</span><span class="p">,</span> <span class="n">output_array</span> <span class="o">=</span> <span class="n">a</span><span class="p">))</span>
<span class="go">True</span>
</pre></div>
</div>
</dd></dl>

</div>
<div class="section" id="module-nanshe.imp.wavelet_transform">
<span id="nanshe-imp-wavelet-transform-module"></span><h2>nanshe.imp.wavelet_transform module<a class="headerlink" href="#module-nanshe.imp.wavelet_transform" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.imp.wavelet_transform.binomial_1D_array_kernel">
<code class="descclassname">nanshe.imp.wavelet_transform.</code><code class="descname">binomial_1D_array_kernel</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/wavelet_transform.html#binomial_1D_array_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.wavelet_transform.binomial_1D_array_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a 1D numpy array used to make the kernel for the wavelet transform.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>i</strong> (<em>int</em>) &#8211; which scaling to use.</li>
<li><strong>n</strong> (<em>int</em>) &#8211; which row of Pascal&#8217;s triangle to return.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>r</strong> &#8211;
a numpy array containing the row of Pascal&#8217;s triangle.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([], dtype=float64)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
<span class="go">array([ 1.])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.25  ,  0.375 ,  0.25  ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.25  ,  0.375 ,  0.25  ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.25  ,  0.375 ,  0.25  ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.    ,  0.25  ,  0.    ,  0.375 ,  0.    ,  0.25  ,</span>
<span class="go">        0.    ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.    ,  0.    ,  0.    ,  0.25  ,  0.    ,  0.    ,</span>
<span class="go">        0.    ,  0.375 ,  0.    ,  0.    ,  0.    ,  0.25  ,  0.    ,</span>
<span class="go">        0.    ,  0.    ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="go">array([ 0.0625,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,</span>
<span class="go">        0.    ,  0.25  ,  0.    ,  0.    ,  0.    ,  0.    ,  0.    ,</span>
<span class="go">        0.    ,  0.    ,  0.375 ,  0.    ,  0.    ,  0.    ,  0.    ,</span>
<span class="go">        0.    ,  0.    ,  0.    ,  0.25  ,  0.    ,  0.    ,  0.    ,</span>
<span class="go">        0.    ,  0.    ,  0.    ,  0.    ,  0.0625])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_array_kernel</span><span class="p">(</span><span class="mi">2</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
<span class="go">array([ 0.5,  0. ,  0.5])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.wavelet_transform.binomial_1D_vigra_kernel">
<code class="descclassname">nanshe.imp.wavelet_transform.</code><code class="descname">binomial_1D_vigra_kernel</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/wavelet_transform.html#binomial_1D_vigra_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.wavelet_transform.binomial_1D_vigra_kernel" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a vigra.filters.Kernel1D using binomial_1D_array_kernel(i).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>i</strong> (<em>int</em>) &#8211; which scaling to use.</li>
<li><strong>n</strong> (<em>int</em>) &#8211; which row of Pascal&#8217;s triangle to return.</li>
<li><strong>border_treatment</strong> (<em>vigra.filters.BorderTreatmentMode</em>) &#8211; determines how to deal with the borders.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>k</strong> &#8211;
a numpy array containing the row of Pascal&#8217;s triangle.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_1D_vigra_kernel</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span> 
<span class="go">&lt;vigra.filters.Kernel1D object at 0x...&gt;</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.wavelet_transform.binomial_coefficients">
<code class="descclassname">nanshe.imp.wavelet_transform.</code><code class="descname">binomial_coefficients</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/wavelet_transform.html#binomial_coefficients"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.wavelet_transform.binomial_coefficients" title="Permalink to this definition">¶</a></dt>
<dd><p>Generates a row in Pascal&#8217;s triangle (binomial coefficients).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> (<em>int</em>) &#8211; which row of Pascal&#8217;s triangle to return.</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><strong>cs</strong> &#8211;
a numpy array containing the row of Pascal&#8217;s triangle.</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body">numpy.ndarray</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="o">-</span><span class="mi">25</span><span class="p">)</span>
<span class="go">array([], dtype=int64)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([], dtype=int64)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
<span class="go">array([1])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
<span class="go">array([1, 1])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>
<span class="go">array([1, 2, 1])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span>
<span class="go">array([1, 4, 6, 4, 1])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">binomial_coefficients</span><span class="p">(</span><span class="mf">4.0</span><span class="p">)</span>
<span class="go">array([1, 4, 6, 4, 1])</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="nanshe.imp.wavelet_transform.wavelet_transform">
<code class="descclassname">nanshe.imp.wavelet_transform.</code><code class="descname">wavelet_transform</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/imp/wavelet_transform.html#wavelet_transform"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.imp.wavelet_transform.wavelet_transform" title="Permalink to this definition">¶</a></dt>
<dd><p>performs integral steps of the wavelet transform on im0 up to the given scale. If scale is an iterable, then</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>im0</strong> (<em>numpy.ndarray</em>) &#8211; the original image.</li>
<li><strong>scale</strong> (<em>int</em>) &#8211; the scale of wavelet transform to apply.</li>
<li><strong>include_intermediates</strong> (<em>bool</em>) &#8211; whether to return intermediates or not (default False).</li>
<li><strong>include_lower_scales</strong> (<em>bool</em>) &#8211; whether to include lower scales or not (default False)
(ignored if include_intermediates is True).</li>
<li><strong>out</strong> (<em>numpy.ndarray</em>) &#8211; holds final result (cannot use unless
include_intermediates is False or an AssertionError
will be raised.)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><strong>k</strong> &#8211;
a numpy array containing the row of Pascal&#8217;s triangle.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">numpy.ndarray</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Examples</p>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span> 
<span class="go">(array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">         [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">         [-0.34375, -0.375  ,  0.59375]]], dtype=float32),</span>
<span class="go"> array([[[ 1.     ,  0.     ,  0.     ],</span>
<span class="go">         [ 0.     ,  1.     ,  0.     ],</span>
<span class="go">         [ 0.     ,  0.     ,  1.     ]],</span>
<span class="go">        [[ 0.40625,  0.375  ,  0.34375],</span>
<span class="go">         [ 0.375  ,  0.375  ,  0.375  ],</span>
<span class="go">         [ 0.34375,  0.375  ,  0.40625]]], dtype=float32))</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">True</span><span class="p">)</span>
<span class="go">array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">        [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">        [-0.34375, -0.375  ,  0.59375]]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">False</span><span class="p">)</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">zeros</span><span class="p">((</span><span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">out</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span> 
<span class="go">array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">        [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">        [-0.34375, -0.375  ,  0.59375]]], dtype=float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="go">array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">        [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">        [-0.34375, -0.375  ,  0.59375]]], dtype=float32)</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">empty</span><span class="p">((</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float64</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">float32</span><span class="p">),</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">True</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span> 
<span class="go">array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">        [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">        [-0.34375, -0.375  ,  0.59375]]])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="go">array([[[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">        [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">        [-0.34375, -0.375  ,  0.59375]]])</span>
</pre></div>
</div>
<div class="highlight-python"><div class="highlight"><pre><span class="gp">&gt;&gt;&gt; </span><span class="n">out</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">eye</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="n">dtype</span> <span class="o">=</span> <span class="n">numpy</span><span class="o">.</span><span class="n">uint8</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">wavelet_transform</span><span class="p">(</span><span class="n">out</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">scale</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_intermediates</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">include_lower_scales</span> <span class="o">=</span> <span class="bp">False</span><span class="p">,</span>
<span class="gp">... </span>    <span class="n">out</span> <span class="o">=</span> <span class="n">out</span><span class="p">)</span>
<span class="go">array([[ 0.59375, -0.375  , -0.34375],</span>
<span class="go">       [-0.375  ,  0.625  , -0.375  ],</span>
<span class="go">       [-0.34375, -0.375  ,  0.59375]], dtype=float32)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">out</span>
<span class="go">array([[1, 0, 0],</span>
<span class="go">       [0, 1, 0],</span>
<span class="go">       [0, 0, 1]], dtype=uint8)</span>
</pre></div>
</div>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">nanshe.imp package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.advanced_image_processing">nanshe.imp.advanced_image_processing module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.binary_image_processing">nanshe.imp.binary_image_processing module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.denoising">nanshe.imp.denoising module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.neuron_matplotlib_viewer">nanshe.imp.neuron_matplotlib_viewer module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.registration">nanshe.imp.registration module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.simple_image_processing">nanshe.imp.simple_image_processing module</a></li>
<li><a class="reference internal" href="#module-nanshe.imp.wavelet_transform">nanshe.imp.wavelet_transform module</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="nanshe.util.html"
                          title="Previous page">&larr; nanshe.util package</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="nanshe.io.html"
                          title="Next page">&rarr; nanshe.io package</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/nanshe.imp.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.io.html" title="nanshe.io package"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.html" title="nanshe.util package"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">..  documentation</a> &raquo;</li>
 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &copy; Copyright 2014, Author.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.3.1.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>