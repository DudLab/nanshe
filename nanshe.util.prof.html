


<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>nanshe.util.prof module &#8212; nanshe 0.1.0a58+14.g2c2e32c documentation</title>
    <link rel="stylesheet" href="_static/cloud.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//fonts.googleapis.com/css?family=Noticia+Text|Open+Sans|Droid+Sans+Mono" type="text/css" />
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.1.0a58+14.g2c2e32c',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/jquery.cookie.js"></script>
    <script type="text/javascript" src="_static/cloud.base.js"></script>
    <script type="text/javascript" src="_static/cloud.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="nanshe.util.wrappers module" href="nanshe.util.wrappers.html" />
    <link rel="prev" title="nanshe.util.iters module" href="nanshe.util.iters.html" /> 
        <meta name="viewport" content="width=device-width, initial-scale=1">
  </head>
  <body>
    <div class="relbar-top">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.wrappers.html" title="nanshe.util.wrappers module"
             accesskey="N">next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.iters.html" title="nanshe.util.iters module"
             accesskey="P">previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">nanshe 0.1.0a58+14.g2c2e32c documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="nanshe.html" >nanshe package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nanshe.util.html" accesskey="U">nanshe.util package</a> &#187;</li> 
      </ul>
    </div>
    </div>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="module-nanshe.util.prof">
<span id="nanshe-util-prof-module"></span><h1>nanshe.util.prof module<a class="headerlink" href="#module-nanshe.util.prof" title="Permalink to this headline">¶</a></h1>
<p>The module <code class="docutils literal"><span class="pre">prof</span></code> provides support tracing and profiling.</p>
<div class="section" id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>The module <code class="docutils literal"><span class="pre">prof</span></code> provides a few primitives for tracing function calls and
memory usage. In particular, it provides a trace logger that gives us feedback
about arguments passed, the run time, the exception raised, etc. Decorators are
available for wrapping functions and classes (all methods). In addition to the
trace logger, a memory profiler is also provided, which can be run in a
separate thread to get information about memory usage. The memory profiler
requires <a class="reference external" href="http://github.com/giampaolo/psutil"><code class="docutils literal"><span class="pre">psutil</span></code></a>.</p>
</div>
<div class="section" id="api">
<h2>API<a class="headerlink" href="#api" title="Permalink to this headline">¶</a></h2>
<dl class="function">
<dt id="nanshe.util.prof.getSpecialLogger">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">getSpecialLogger</code><span class="sig-paren">(</span><em>logger_prefix</em>, <em>name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#getSpecialLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.getSpecialLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>A fancy version of <code class="docutils literal"><span class="pre">logging.getLogger</span></code>, which takes a prefix and a
name, which it joins together as the returned logger’s name.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>logger_prefix</strong> (<em>str</em>) – Prefix name to use to describe all
loggers of this type.</li>
<li><strong>name</strong> (<em>str</em>) – The name of the function or module
being logged.</li>
<li><strong>*args</strong> – Other arguments to pass through to
<code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes no
others.</li>
<li><strong>*kwargs</strong> – Other keyword arguments to pass through
to <code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes
no others.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first"><dl class="docutils">
<dt>A logger with the given prefix and</dt>
<dd><p class="first last">subsequent name.</p>
</dd>
</dl>
</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">logging.Logger</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.util.prof.getTraceLogger">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">getTraceLogger</code><span class="sig-paren">(</span><em>name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#getTraceLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.getTraceLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>A fancy version of <code class="docutils literal"><span class="pre">logging.getLogger</span></code>, which adds the prefix TRACE
to the name given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>str</em>) – The name of the function or module
being logged.</li>
<li><strong>*args</strong> – Other arguments to pass through to
<code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes no
others.</li>
<li><strong>*kwargs</strong> – Other keyword arguments to pass through
to <code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes
no others.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A logger with the given name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">logging.Logger</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.util.prof.getTraceMetaLogger">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">getTraceMetaLogger</code><span class="sig-paren">(</span><em>name</em>, <em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#getTraceMetaLogger"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.getTraceMetaLogger" title="Permalink to this definition">¶</a></dt>
<dd><p>A fancy version of <code class="docutils literal"><span class="pre">logging.getLogger</span></code>, which adds the prefix
TRACE.META to the name given.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>name</strong> (<em>str</em>) – The name of the function or module
being logged.</li>
<li><strong>*args</strong> – Other arguments to pass through to
<code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes no
others.</li>
<li><strong>*kwargs</strong> – Other keyword arguments to pass through
to <code class="docutils literal"><span class="pre">getLogger</span></code>. Currently, it takes
no others.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">A logger with the given name.</p>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">logging.Logger</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.util.prof.log_call">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">log_call</code><span class="sig-paren">(</span><em>logger</em>, <em>to_log_call=True</em>, <em>to_print_args=False</em>, <em>to_print_time=True</em>, <em>to_print_exception=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#log_call"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.log_call" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a given logger and uses it to log entering and leaving the
decorated callable. Intended to be used as a decorator that takes a few
arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>logger</strong> (<em>Logger</em>) – Used for logging entry, exit and
possibly arguments.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><strong>to_log_call</strong> (<em>bool</em>) – Whether to log call or not. This
overrides all other arguments. It
will be stored as a global variable
on the function, which can be
changed at runtime.</li>
<li><strong>to_print_args</strong> (<em>bool</em>) – Whether to output the arguments and
keyword arguments passed to the
function. This should not
automatically be true as some
arguments may not be printable or
may be expensive to print. Thus, it
should be up to the developer to use
their own discretion. Further, we
don’t want to break their existing
code. It will be stored as a global
variable on the function, which can
be changed at runtime.</li>
<li><strong>to_print_time</strong> (<em>bool</em>) – Prints the time it took to run the
wrapped callable.</li>
<li><strong>to_print_exception</strong> (<em>bool</em>) – Whether to print the traceback when
an exception is raise. It will be
stored as a global variable on the
function, which can be changed at
runtime.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first">For performing the actual wrapping.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Return type:</th><td class="field-body"><p class="first last">log_call_decorator</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.util.prof.log_class">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">log_class</code><span class="sig-paren">(</span><em>logger</em>, <em>to_log_call=True</em>, <em>to_print_args=False</em>, <em>to_print_time=True</em>, <em>to_print_exception=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#log_class"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.log_class" title="Permalink to this definition">¶</a></dt>
<dd><p>Takes a given logger and uses it to log entering and leaving all
methods of the decorated class. Intended to be used as a decorator that
takes a few arguments.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><p class="first"><strong>logger</strong> (<em>Logger</em>) – Used for logging entry, exit and
possibly arguments.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><ul class="first simple">
<li><strong>to_log_call</strong> (<em>bool</em>) – Whether to log call or not. This
overrides all other arguments. It
will be stored as a global variable
on the methods, which can be changed
at runtime.</li>
<li><strong>to_print_args</strong> (<em>bool</em>) – Whether to output the arguments and
keyword arguments passed to the
function. This should not
automatically be true as some
arguments may not be printable or
may be expensive to print. Thus, it
should be up to the developer to use
their own discretion. Further, we
don’t want to break their existing
code. It will be stored as a global
variable on the methods, which can
be changed at runtime.</li>
<li><strong>to_print_time</strong> (<em>bool</em>) – Prints the time it took to run the
wrapped callable.</li>
<li><strong>to_print_exception</strong> (<em>bool</em>) – Whether to print the traceback when
an exception is raise. It will be
stored as a global variable on the
methods, which can be changed at
runtime.</li>
</ul>
</td>
</tr>
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">log_call_decorator(for wrapping)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="nanshe.util.prof.memory_profiler">
<code class="descclassname">nanshe.util.prof.</code><code class="descname">memory_profiler</code><span class="sig-paren">(</span><em>*args</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/nanshe/util/prof.html#memory_profiler"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#nanshe.util.prof.memory_profiler" title="Permalink to this definition">¶</a></dt>
<dd><p>Runs forever get information about memory usage and dumping it to the
logger provided at the given interval.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>logger</strong> (<em>Logger</em>) – Used for logging memory profiling
information.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">Keyword Arguments:</th></tr>
<tr class="field-even field"><td>&#160;</td><td class="field-body"><strong>interval</strong> (<em>int</em><em> or </em><em>float</em>) – Number of seconds to wait before
issuing more profile information.</td>
</tr>
</tbody>
</table>
</dd></dl>

</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper"><div class="sphinx-toc sphinxlocaltoc">
    <h3><a href="index.html">Page contents</a></h3>
    <ul>
<li><a class="reference internal" href="#">nanshe.util.prof module</a><ul>
<li><a class="reference internal" href="#overview">Overview</a></li>
<li><a class="reference internal" href="#api">API</a></li>
</ul>
</li>
</ul>

  </div>
  <div class="sphinxprev">
    <h4>Previous page</h4>
    <p class="topless"><a href="nanshe.util.iters.html"
                          title="Previous page">&larr; nanshe.util.iters module</a></p>
  </div>
  <div class="sphinxnext">
    <h4>Next page</h4>
    <p class="topless"><a href="nanshe.util.wrappers.html"
                          title="Next page">&rarr; nanshe.util.wrappers module</a></p>
  </div>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/nanshe.util.prof.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
    
    
        <div class="sidebar-toggle-group no-js">
            
            <button class="sidebar-toggle" id="sidebar-hide" title="Hide the sidebar menu">
                 «
                <span class="show-for-small">hide menu</span>
                
            </button>
            <button class="sidebar-toggle" id="sidebar-show" title="Show the sidebar menu">
                
                <span class="show-for-small">menu</span>
                <span class="hide-for-small">sidebar</span>
                 »
            </button>
        </div>
    
      <div class="clearer"></div>
    </div>
    <div class="relbar-bottom">
        
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.wrappers.html" title="nanshe.util.wrappers module"
             >next</a> &nbsp; &nbsp;</li>
        <li class="right" >
          <a href="nanshe.util.iters.html" title="nanshe.util.iters module"
             >previous</a> &nbsp; &nbsp;</li>
    <li><a href="index.html">nanshe 0.1.0a58+14.g2c2e32c documentation</a> &#187;</li>

          <li class="nav-item nav-item-1"><a href="nanshe.html" >nanshe package</a> &#187;</li>
          <li class="nav-item nav-item-2"><a href="nanshe.util.html" >nanshe.util package</a> &#187;</li> 
      </ul>
    </div>
    </div>

    <div class="footer" role="contentinfo">
        &#169; Copyright 2014-2017, John A. Kirkham.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.6.3.
    </div>
    <!-- cloud_sptheme 1.4 -->
  </body>
</html>